(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(15),u=n.n(a),i=(n(20),n(6)),o=n(3),l=n(0),s=function(e){var t=e.handleFilter,n=e.filter;return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",value:n,onChange:t,placeholder:"Filter Shown with "})," "]})},d=function(e){var t=e.handleSubmit,n=e.newName,c=e.newNumber,r=e.handleName,a=e.handleNumber;return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",value:n,onChange:r,placeholder:"Name"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"tel",value:c,onChange:a,placeholder:"Number"})})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})})},j=function(e){var t=e.filter,n=e.persons,c=e.deletePerson;return Object(l.jsx)("ul",{children:(""!==t?n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):n).map((function(e){return Object(l.jsxs)("li",{children:[e.name," ",e.number," ",Object(l.jsx)("button",{onClick:function(){c(e.id)},children:"Delete"})]},e.name)}))})},b=function(e){var t=e.message,n=e.status;return null===t?null:Object(l.jsx)("div",{className:"message ".concat(n),children:t})},h=n(4),f=n.n(h),m="https://shielded-waters-99674.herokuapp.com/api/persons",O={getAll:function(){return f.a.get(m)},create:function(e){return f.a.post(m,e)},deletePerson:function(e){return f.a.delete("".concat(m,"/").concat(e))},update:function(e,t){return f.a.put("".concat(m,"/").concat(e),t)}},p=(n(40),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),u=Object(o.a)(a,2),h=u[0],f=u[1],m=Object(c.useState)(""),p=Object(o.a)(m,2),x=p[0],v=p[1],w=Object(c.useState)(""),N=Object(o.a)(w,2),g=N[0],S=N[1],k=Object(c.useState)(null),y=Object(o.a)(k,2),A=y[0],C=y[1],P=Object(c.useState)(""),L=Object(o.a)(P,2),D=L[0],F=L[1];return Object(c.useEffect)((function(){O.getAll().then((function(e){r(e.data)}))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(b,{message:A,status:D}),Object(l.jsx)(s,{filter:g,handleFilter:function(e){return S(e.target.value)}}),Object(l.jsx)("h2",{children:"Add A New"}),Object(l.jsx)(d,{handleSubmit:function(e){e.preventDefault();var t=n.find((function(e){return e.name===h}));return t?function(e){window.confirm("".concat(e.name," is already added to phonebook, replace the old number with a new one?"));var t=Object(i.a)(Object(i.a)({},e),{},{number:x});return O.update(e.id,t).then((function(e){r(n.map((function(n){return n.id!==t.id?n:e.data}))),f(""),v("")}))}(t):function(){var e={name:h,number:x};O.create(e).then((function(t){r(n.concat(t.data)),f(""),v(""),C("Added ".concat(e.name)),F("succeed"),setTimeout((function(){C(null)}),1e3)}))}()},newName:h,newNumber:x,handleName:function(e){return f(e.target.value)},handleNumber:function(e){return v(e.target.value)}}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(j,{filter:g,persons:n,deletePerson:function(e){var t=n.find((function(t){return t.id===e})).name;window.confirm("Delete ".concat(t))&&O.deletePerson(e).then((function(t){if(t){var c=n.filter((function(t){return t.id!==e}));r(c)}}))}})]})});u.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.06c59543.chunk.js.map