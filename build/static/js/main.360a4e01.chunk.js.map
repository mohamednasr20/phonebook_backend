{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Message.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilter","filter","type","value","onChange","placeholder","PersonForm","handleSubmit","newName","newNumber","handleName","handleNumber","onSubmit","Persons","persons","deletePerson","person","name","toLocaleLowerCase","includes","map","p","number","onClick","id","Message","message","status","className","baseUrl","personsService","getAll","axios","get","create","newObject","post","delete","update","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setStatus","useEffect","then","response","data","console","log","e","target","preventDefault","find","window","confirm","changedNumber","handleUpdatePerson","newPerson","concat","setTimeout","catch","error","handleCreatePerson","personName","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.360a4e01.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ handleFilter, filter }) => {\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={filter}\n        onChange={handleFilter}\n        placeholder=\"Filter Shown with \"\n      />{' '}\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  handleSubmit,\n  newName,\n  newNumber,\n  handleName,\n  handleNumber,\n}) => {\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <input\n            type=\"text\"\n            value={newName}\n            onChange={handleName}\n            placeholder=\"Name\"\n          />\n          <div>\n            <input\n              type=\"tel\"\n              value={newNumber}\n              onChange={handleNumber}\n              placeholder=\"Number\"\n            />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ filter, persons, deletePerson }) => {\n  const renderPersons = () => {\n    const personsList =\n      filter !== ''\n        ? persons.filter((person) =>\n            person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase())\n          )\n        : persons;\n\n    return personsList.map((p) => {\n      return (\n        <li key={p.name}>\n          {p.name} {p.number}{' '}\n          <button\n            onClick={() => {\n              deletePerson(p.id);\n            }}\n          >\n            Delete\n          </button>\n        </li>\n      );\n    });\n  };\n  return <ul>{renderPersons()}</ul>;\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Message = ({ message, status }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={`message ${status}`}>{message}</div>;\n};\n\nexport default Message;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst personsService = {\n  getAll: () => {\n    return axios.get(baseUrl);\n  },\n\n  create: (newObject) => {\n    return axios.post(baseUrl, newObject);\n  },\n\n  deletePerson: (id) => {\n    return axios.delete(`${baseUrl}/${id}`);\n  },\n\n  update: (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject);\n  },\n};\n\nexport default personsService;\n","import React, { useEffect, useState } from 'react';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport Message from './Message';\nimport personsService from './services/persons';\nimport './App.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [message, setMessage] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const handleUpdatePerson = (person) => {\n    if (\n      window.confirm(\n        `${person.name} is already added to phonebook, replace the old number with a new one?`\n      )\n    );\n    const changedNumber = { ...person, number: newNumber };\n    return personsService.update(person.id, changedNumber).then((response) => {\n      setPersons(\n        persons.map((p) => (p.id !== changedNumber.id ? p : response.data))\n      );\n      setNewName('');\n      setNewNumber('');\n    });\n  };\n\n  const handleCreatePerson = () => {\n    const newPerson = { name: newName, number: newNumber };\n\n    personsService\n      .create(newPerson)\n      .then((response) => {\n        setPersons(persons.concat(response.data));\n        setNewName('');\n        setNewNumber('');\n        setMessage(`Added ${newPerson.name}`);\n        setStatus('succeed');\n        setTimeout(() => {\n          setMessage(null);\n          setStatus('');\n        }, 1000);\n      })\n      .catch((error) => {\n        setMessage(error.response.data.error);\n        setStatus('danger');\n        setTimeout(() => {\n          setMessage(null);\n          setStatus('');\n        }, 2000);\n      });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n    if (person) {\n      return handleUpdatePerson(person);\n    }\n\n    return handleCreatePerson();\n  };\n\n  const handleDeletePerson = (id) => {\n    const personName = persons.find((person) => person.id === id).name;\n\n    if (window.confirm(`Delete ${personName}`)) {\n      personsService.deletePerson(id).then((response) => {\n        if (response) {\n          const newPersons = persons.filter((person) => person.id !== id);\n          setPersons(newPersons);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    personsService.getAll().then((response) => {\n      setPersons(response.data);\n      console.log(response.data);\n    });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      <Message message={message} status={status} />\n      <Filter filter={filter} handleFilter={(e) => setFilter(e.target.value)} />\n\n      <h2>Add A New</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n        handleName={(e) => setNewName(e.target.value)}\n        handleNumber={(e) => setNewNumber(e.target.value)}\n      />\n\n      <h2>Numbers</h2>\n      <Persons\n        filter={filter}\n        persons={persons}\n        deletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}